class QuickViewDrawer extends MenuDrawer{constructor(){super({classes:{open:"quick-view--open",opening:"quick-view--opening",closing:"quick-view--closing"}}),this.addEventListener("close",()=>{var e=this.querySelector(".quick-view__content");e.innerHTML="",e.classList.remove("hide-cover")})}}customElements.define("quick-view-drawer",QuickViewDrawer);class QuickView extends HTMLElement{constructor(){super(),new IntersectionObserver(this.handleIntersection.bind(this)).observe(this)}handleIntersection(t,e){if(t[0].isIntersecting){const i=this.querySelector(".quick-view__content");t=this.dataset.productHandle;let e=routes.root_url+`/products/${t}?view=modal`;e=e.replace("//","/"),fetch(e).then(e=>e.text()).then(e=>{i.innerHTML=this.getSectionInnerHTML(e,".quick-view__content"),setTimeout(()=>{i.classList.add("hide-cover"),Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init()},300)}).catch(e=>{console.error(e)})}}getSectionInnerHTML(e,t=".shopify-section"){return(new DOMParser).parseFromString(e,"text/html").querySelector(t).innerHTML}}customElements.define("quick-view",QuickView);